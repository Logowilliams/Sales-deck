"0","#create pivot table"
"0","sales%>%"
"0","  mutate(GrossUnit = `POS Qty`+`Total Customer Item Return`)%>%"
"0","  group_by(`WM Week`, `Store Nbr`, `Item Nbr`, `UPC`)%>%"
"0","  summarise(Net_Unit = sum(`POS Qty`), Net_Sales = sum(`POS Sales`), Gross_Unit = sum(GrossUnit), Return_Unit = sum(`Total Customer Item Return`), GrossPOS = sum(Gross_Unit*(Net_Sales/Net_Unit)))->skuByStore"
"2","`summarise()` has grouped output by 'WM Week', 'Store Nbr', 'Item Nbr'. You can override using the `.groups` argument.
"
"0","#replace missing/infinite values with 0"
"0","skuByStore$GrossPOS[is.na(skuByStore$GrossPOS)] <- 0"
"0","skuByStore$GrossPOS[is.infinite(skuByStore$GrossPOS)] <- 0"
"0","         "
"0","#add week end/start, store nbr, and Curr columns"
"0","skuByStore%>%"
"0","  mutate(WeekStart = this_week$WeekStart, .before = `WM Week`)%>%"
"0","  mutate(WeekEnd = this_week$WeekEnd, .after = `WM Week`)%>%"
"0","  mutate(`Curr Str On Hand Qty` = 0, .before = GrossPOS)%>%"
"0","  mutate(`Curr Instock %` = 0, .after = `Curr Str On Hand Qty`)%>%"
"0","  mutate(`Curr Str On Order Qty` = 0, .after = `Curr Instock %`)%>%"
"0","  mutate(`Curr Str In Transit Qty` = 0, .after = `Curr Str On Order Qty`)%>%"
"0","  dplyr::select(WeekStart, `WM Week`, WeekEnd, `Store Nbr`, `Item Nbr`, UPC, Net_Unit, Net_Sales, Gross_Unit, Return_Unit, `Curr Str On Hand Qty`,"
"0","                `Curr Instock %`, `Curr Str On Order Qty`, `Curr Str In Transit Qty`, GrossPOS)-> skuByStore"
"0",""
"0","#remove time from date field"
"0","skuByStore$WeekStart <- as.Date(skuByStore$WeekStart)"
"0","skuByStore$WeekEnd <- as.Date(skuByStore$WeekEnd)"
